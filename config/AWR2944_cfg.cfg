% ***************************************************************
% Target firmware: awr2944_mmw_demoTDM.appimage
% Based on TI demo-style profile_LVDS.cfg + your AWR2944_JsonConfig.mmwave.json
% Config: 1 TX (TX0) + 4 RX, 256 samples @ 10 Msps
% ***************************************************************

sensorStop
flushCfg

dfeDataOutputMode 1

% --- Enable RX0-3 (15) and TX0 only (1) ---
% (TI demo cfg uses the 3-arg form here)
channelCfg 15 1 0

% --- ADC: 16-bit, complex ---
adcCfg 2 0

% --- ADC buffer (keep from TI demo template) ---
adcbufCfg -1 1 1 1 1

lowPower 0 0

% --- Profile (from your .mmwave) ---
% profileCfg <id> <startFreqGHz> <idleUs> <adcStartUs> <rampEndUs> <txPwr> <txPhase>
%           <slopeMHzPerUs> <txStartUs> <numAdcSamples> <digOutSampleRateKsps> <hpf1> <hpf2> <rxGain>
%
% NOTE: TI demo cfg uses rxGain = 128 + (gain in dB). Your gain is 30 dB -> 158.
profileCfg 0 77 100 6 60 0 0 29.982 0 256 10000 0 0 158

% --- Chirp: single chirp on TX0 ---
chirpCfg 0 0 0 0 0 0 0 1

% --- Frame (TI demo 8-arg form used in your template) ---
% frameCfg <startChirp> <endChirp> <loops> <frames> <numAdcSamples> <periodMs> <triggerSel> <triggerDelay>
frameCfg 0 0 128 0 256 40.00075 1 0

lowPower 0 0

% --- Keep demo processing / TLV output enabled (from template) ---
guiMonitor -1 1 1 0 0 0 1

cfarCfg -1 0 2 8 4 3 0 15 1
cfarCfg -1 1 0 4 2 3 1 15 1

multiObjBeamForming -1 1 0.5
calibDcRangeSig -1 0 -5 8 256
clutterRemoval -1 0

% Ant geometry + phase compensation kept from template:
% If you later switch back to multi-TX TDM angle modes, this matters more.
antGeometryCfg 1 0 1 1 1 2 1 3 0 2 0 3 0 4 0 5 1 4 1 5 1 6 1 7 1 8 1 9 1 10 1 11 0.5 0.8

compRangeBiasAndRxChanPhase 0.0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0
measureRangeBiasAndRxChanPhase 0 1.5 0.2

aoaFovCfg -1 -90 90 -90 90
cfarFovCfg -1 0 0 19.53
cfarFovCfg -1 1 -1 1.00

extendedMaxVelocity -1 0
calibData 0 0 0x1f0000

CQRxSatMonitor 0 3 11 121 0
CQSigImgMonitor 0 127 8
analogMonitor 0 0

% IMPORTANT:
% This line is ONLY needed if you are actually using LVDS streaming / DCA1000 raw capture.
% For pure demo TLV (UART) operation, you can comment it out.
lvdsStreamCfg -1 0 1 0

sensorStart